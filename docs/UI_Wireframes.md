# UI 线框（低保真，用于快速画原型）

> 目标：让设计师/研发不看代码也能快速对齐布局与交互。  
> 约定：以 1440px 桌面端为主；窄屏可把“参考图侧栏”折叠到抽屉。

## 1) Home（任务列表）

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 本地生图工作台                                         [新建任务] [设置]     │
├──────────────────────────────────────────────────────────────────────────────┤
│ 任务列表                                                                      │
│ ┌──────────────────────────────────────────────────────────────────────────┐ │
│ │ 任务卡片：时间 | 平台 | 风格 | 大场景 | Shots | 状态 | 最后更新          │ │
│ └──────────────────────────────────────────────────────────────────────────┘ │
│ ...                                                                          │
└──────────────────────────────────────────────────────────────────────────────┘
```

状态
- Empty：展示“创建任务”引导 + 示例字段
- Error：提示 + 刷新按钮

## 2) New Task（新建任务）

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ ← 返回  新建任务                                                               │
├──────────────────────────────────────────────────────────────────────────────┤
│ ┌─────────────── 上传区 ───────────────┐  ┌────────────── 需求区 ───────────┐ │
│ │ 衣服参考图（多张）                   │  │ 平台/用途：小红书                │ │
│ │ [ + 拖拽上传 ]  图A 图B 图C ...      │  │ 风格关键词：潮牌, 高街            │ │
│ │ face_ref（可选） [ + 上传 ]         │  │ 统一大场景：街头                  │ │
│ │                                     │  │ 张数 N：4                         │ │
│ │                                     │  │ 动作偏好（可选，多行）            │ │
│ │                                     │  │ 约束（默认勾选）                  │ │
│ │                                     │  │ NEG：OFF                          │ │
│ └─────────────────────────────────────┘  └──────────────────────────────────┘ │
│                                                                              │
│                                                     [生成计划]               │
└──────────────────────────────────────────────────────────────────────────────┘
```

校验
- 未上传衣服图：`生成计划` disabled + 提示
- 参考图过多：提示“建议≤5张高保真参考图（系统将优先选取关键图）”

## 3) Task Detail（任务详情 - Stepper）

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ ← 返回  任务详情  #T-2026-0001                                                │
│ [1 计划]──[2 出图]──[3 质检]──[4 导出]   （步骤可点击回退）                   │
├──────────────────────────────────────────────────────────────────────────────┤
│ ┌──────────── 参考图侧栏 ────────────┐  ┌────────────── 主内容区 ───────────┐ │
│ │ 图A 图B 图C ...                    │  │（根据步骤变化）                   │ │
│ │ face_ref（可选）                   │  │                                   │ │
│ └────────────────────────────────────┘  └───────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 3.1 Step 1：计划（Plan）

主内容区
- 服装识别档案（折叠面板，默认展开前 8 行）
- GARMENT LOCK（Tag 列表）+【编辑】（弹窗/抽屉）
- Shot List 表格（N 行）
  - 行内：复制 Prompt / 编辑该行 / 添加本行覆盖锁定点（1~3条）
- CTA：【开始出图】

### 3.2 Step 2：出图（Render）

主内容区
- 顶部：进度条（完成/总数）+ 队列状态
- 下方：Shot 列表/表格
  - 缩略图 | 状态 | 操作（预览/下载/重试本张/跳到质检）

### 3.3 Step 3：质检（Review）

```
┌────────────── 左：Shot 列表 ──────────────┐ ┌──────────── 右：大图对比 ───────┐
│ 01  ✅  缩略图                              │ │ 参考图（可切图A/B/C）          │
│ 02  ⏳  缩略图                              │ │ ───────────────────────────   │
│ 03  ⚠️  缩略图                              │ │ 当前输出图（支持放大）          │
│ 04  ⬜  未生成                              │ │                                 │
└───────────────────────────────────────────┘ └────────────────────────────────┘
                      [通过]  [需要修复]  [重生本张]
```

### 3.4 修复弹窗（Fix Modal）

```
┌──────────────────────── 仅修复衣服细节（其它保持不变） ───────────────────────┐
│ 参考图         | 当前图（基底）      | GARMENT LOCK（可编辑）                  │
│ ─────────────  | ───────────────    | [Tag1] [Tag2] ...  [编辑]               │
├──────────────────────────────────────────────────────────────────────────────┤
│ Step1 生成修复方案：                                                          │
│ - 不一致清单（可勾选）：[ ]条目1  [ ]条目2 ...                                 │
│ - 修复指令（英文，可编辑）：[ textarea ]                                        │
│ [生成修复方案] [复制修复指令]                                                  │
├──────────────────────────────────────────────────────────────────────────────┤
│ Step2 执行修复： [执行修复]                                                    │
│ 成功后：展示新版本对比 + [通过] [继续修复] [回退旧版]                           │
└──────────────────────────────────────────────────────────────────────────────┘
```

## 4) Settings（设置）

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ ← 返回  设置                                                                   │
├──────────────────────────────────────────────────────────────────────────────┤
│ Base URL: [____________________________]                                      │
│ API Key : [____________________________] (密码框)                             │
│ 默认输出：比例[9:16]  清晰度[2K]                                               │
│ [测试连接]   [清除本地配置]                                                    │
└──────────────────────────────────────────────────────────────────────────────┘
```

## 5) 组件清单（P0 复用）
- `ImageUploader`：多文件拖拽 + 自动编号 + 删除
- `ImageWall`：参考图侧栏（可折叠）
- `TagList + TagEditorModal`：GARMENT LOCK 展示/编辑/排序
- `ShotTable`：Shot List 表格（可展开 Prompt）
- `PromptEditor`：英文 Prompt 编辑（带复制按钮）
- `RenderQueue`：进度条 + 单张状态机 + 重试
- `CompareViewer`：参考图/输出图并排 + 放大
- `FixModal`：差异清单 + 修复指令 + 执行修复 + 版本切换

